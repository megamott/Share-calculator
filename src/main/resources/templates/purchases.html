<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Purchases</title>
</head>
<body>
<h3>Dollar Purchases</h3>
<table>
    <thead>
    <tr>
        <th>Quantity</th>
        <th>Price</th>
        <th>Commission</th>
        <th>Difference</th>
    </tr>
    </thead>
    <tbody>
    <tr th:each="dp, state:${dollarPurchases}">
        <td th:text="${dp.quantity}"></td>
        <td th:text="${dp.price}"></td>
        <td th:text="${dp.commission}"></td>
        <td th:text="${currencyDifferences[state.index]}"></td>
        <td><a th:href="@{/delete-dollar-purchase/{id}(id=${dp.id})}">Delete</a></td>
    </tr>
    </tbody>
</table>
<form method="post" th:action="@{/add-dollar-purchase}">
    <input type="text" name="quantity" placeholder="quantity">
    <input type="text" name="price" placeholder="price">
    <button type="submit">Add</button>
</form>
<p th:text="'Commission: ' + ${currencyCommissionAdder} + ' ла'"></p>
<p th:text="'Difference: ' + ${currencyAdder} + ' ла'"></p>
<h3>Shares Purchases</h3>
<table>
    <thead>
    <tr>
        <th>Ticker</th>
        <th>Quantity</th>
        <th>Price</th>
        <th>Commission</th>
        <th>Difference</th>
    </tr>
    </thead>
    <tbody>
    <tr th:each="share, state:${sharePurchases}">
        <td th:text="${share.ticker}"></td>
        <td th:text="${share.quantity}"></td>
        <td th:text="${share.price}"></td>
        <td th:text="${share.commission}"></td>
        <td th:text="${shareDifferences[state.index]}"></td>
        <td><a th:href="@{/delete-share-purchase/{id}(id=${share.id})}">Delete</a></td>
    </tr>
    </tbody>
</table>
<br>
<form method="post" th:action="@{/add-share-purchase}">
    <input type="text" name="ticker" placeholder="ticker">
    <input type="text" name="quantity" placeholder="quantity">
    <input type="text" name="price" placeholder="price">
    <button type="submit">Add</button>
</form>
<p th:text="'Commission: ' + ${shareCommissionAdder} + ' $'"></p>
<p th:text="'Difference: ' + ${shareAdder} + ' $'"></p>
<br>
<p th:text="'Current bag price without commission: ' + ${bagPriceWithoutCommission} + ' P'"></p>
<p th:text="'Current bag price: ' + ${bagPrice} + ' P'"></p>
<p th:text="'Spending: ' + ${spending} + ' P'"></p>
<p th:text="'Income: ' + ${income} + ' P'"></p>
<br>
</body>
</html>